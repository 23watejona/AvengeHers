<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body>
	<form action="javascript:void(0);" id = "createUserForm">
		<label for="email">Email: </label>
		<input type="email" name="email" id = "email"><br/>
		<label for="password">Password: </label>
		<input type="password" name="password" id = "password"><br/>
		<label for="password-confirm" >Confirm Password: </label>
		<input type="password" name="password-confirm" id = "password-confirm"><br/>
		<input type="submit">
	</form>
</body>
<script>
	let form = document.getElementById("createUserForm");
	form.onkeyup = dataVerify;
	form.onchange = dataVerify;
	form.onsubmit = dataSubmit;
	let emailInput = document.getElementById('email');
		let passwordInput = document.getElementById('password');
		let passwordConfirmInput = document.getElementById('password-confirm');
	function dataVerify() {
		

		let email = emailInput.value;
		let password = passwordInput.value;
		let passwordConfirm = passwordConfirmInput.value;
		console.log(email)
		if(password != passwordConfirm) {
			passwordConfirmInput.checkValidity();
			passwordConfirmInput.setCustomValidity("Passwords Don't Match");
			passwordConfirmInput.reportValidity();
		} else {
			passwordConfirmInput.checkValidity();
    		passwordConfirmInput.setCustomValidity('');
    		passwordConfirmInput.reportValidity();
  		}
		if (email.match(/^\w+?@purdue\.edu$/) == null) {
			emailInput.checkValidity();
			emailInput.setCustomValidity("Must be a Purdue Email Address");
			emailInput.reportValidity();
		} else {
			console.log("resetting");
			emailInput.checkValidity();
			emailInput.setCustomValidity('');
			emailInput.reportValidity();
		}
		
	}
	dataSubmit() {
					request = new XMLHttpRequest();

	}
</script>
</html>